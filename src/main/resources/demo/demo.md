
# PixelStrike 前端测试平台说明文档

本文档旨在说明 `demo` 系列HTML文件的用途和功能范围，这些文件是为 `PixelStrike` 后端项目开发的、用于迭代测试的客户端原型。

## 1. `demo1_init.html` - 核心连接与基础物理测试

* **文件版本**: v1
* **作用**: 这是项目的**初始版本**，主要目标是验证从用户登录到成功进入一个基础游戏循环的整个核心技术链路。它专注于最基本的功能连通性。
* **主要功能**:
    * 用户登录认证。
    * 登录后，连接到大厅 `WebSocket` 以接收通知。
    * 发起“开始匹配”请求。
    * 接收到 `match_success` 通知后，连接到游戏 `WebSocket`。
    * 建立一个最基础的游戏渲染循环，可以显示玩家的方块、血条和简单移动。
* **开发阶段**: 项目初期，用于打通后端认证、大厅通知和游戏数据流的核心通道。

## 2. `demo2_lobby.html` - 大厅与好友系统集成

* **文件版本**: v2
* **作用**: 在v1的基础上，引入了更完善的**大厅概念**和初步的社交功能，并修复了关键的游戏内BUG。
* **主要功能**:
    * 引入了更美观的UI样式。
    * **好友系统**: 登录后可以获取并展示好友列表及其在线状态。
    * **好友状态同步**: 能通过WebSocket接收并实时更新好友的在线状态（如 `ONLINE`, `IN_GAME` 等）。
    * **战绩查询**: 游戏结束后，提供了一个按钮来查询上一局的详细战绩。
    * **关键BUG修复**: 修复了v1中玩家ID识别不准确的问题，改为通过服务器的 `welcome` 消息精确获取自己的ID。
* **开发阶段**: 项目中期，核心功能稳定后，开始向上层业务（社交、战绩）扩展。

## 3. `demo3_starttime_ranking.html` - 游戏体验增强

* **文件版本**: v3
* **作用**: 重点**优化和丰富了实际游戏过程中的体验**，增加了开局仪式感和更多信息展示。
* **主要功能**:
    * **开局倒计时**: 匹配成功、进入游戏后，会显示一个倒计时（5, 4, 3, 2, 1, START!），期间玩家无法操作。
    * **Ping值计算与显示**: 客户端会定时向服务端发送ping请求，并计算延迟，在HUD（游戏界面）上显示。
    * **HUD信息增强**: HUD中增加了弹药、K/D（击杀/死亡）和Ping值的显示。
    * **战绩排名**: 查询比赛结果时，会显示玩家的**排名**信息。
* **开发阶段**: 关注游戏核心循环的细节打磨，提升玩家沉浸感。

## 4. `demo4_ping_room.html` - 社交与自定义房间

* **文件版本**: v4
* **作用**: 这是一个重要的里程碑，引入了**自定义房间**功能和更完善的**社交互动**，让玩家可以自由组织游戏。
* **主要功能**:
    * **玩家搜索**: 可以按昵称搜索游戏内的其他玩家。
    * **好友请求**: 从搜索结果中可以向其他玩家发送好友请求。
    * **Toast通知系统**: 收到好友请求时，右上方会弹出美观的Toast通知，并可直接进行“同意”或“拒绝”操作。
    * **创建自定义房间**: 玩家可以创建一个拥有唯一房号的自定义房间。
    * **加入/开始自定义房间**: 其他玩家可以通过房号加入，房主可以启动游戏。
* **开发阶段**: 社交系统和游戏模式的重大扩展，从纯匹配变为支持玩家自建房间。

## 5. `demo5_end_history_leave.html` - 完整游戏循环与历史战绩

* **文件版本**: v5
* **作用**: 这是**功能最完整的游戏测试版本**，打通了从开始游戏到结束返回大厅，再到查看历史对战的完整闭环流程。
* **主要功能**:
    * **自动返回大厅**: 游戏结束后，不再停留在“GAME OVER”界面，而是会短暂显示后自动切换回大厅视图。
    * **历史战绩列表**: 登录后或游戏结束后，会自动获取并展示该玩家的所有历史战绩列表。
    * **点击查询详情**: 历史战绩列表中的每一项都可以点击，以查询该局的详细对战结果。
    * **退出房间**: 为自定义房间增加了“退出房间”的功能，房主退出将解散房间。
    * **游戏时间显示**: 在游戏HUD中增加了本局剩余时间的显示。
* **开发阶段**: 项目后期，对整体流程进行梳理和完善，提供完整的用户体验闭环。

## 6. `demo6_user_management.html` - 独立的用户管理测试台

* **文件版本**: (无版本号)
* **作用**: 这是一个**专项测试页面**，独立于游戏主流程之外，专门用于测试所有与用户账户管理相关的功能。
* **主要功能**:
    * **用户注册**: 提供完整的注册表单，用于测试新用户的创建流程。
    * **用户登录**: 测试用户认证和Token获取。
    * **查看个人信息**: 登录后，可以获取并展示当前用户的详细信息（昵称、ID、头像URL等）。
    * **修改个人信息**: 提供表单来测试更新用户昵称和头像URL的功能。
* **开发阶段**: 作为开发和调试过程中的辅助工具，用于快速准备测试账号或验证用户管理接口的正确性。